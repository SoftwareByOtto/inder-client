(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{228:function(e,t,r){var content=r(230);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(54).default)("f8bada24",content,!0,{sourceMap:!1})},229:function(e,t,r){"use strict";r(228)},230:function(e,t,r){(t=r(53)(!1)).push([e.i,".grid[data-v-7ff7796b]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));grid-gap:10px;gap:10px}",""]),e.exports=t},231:function(e,t,r){"use strict";r(88),r(70),r(71);var n=r(232),o=r.n(n),l={name:"Profiles",props:["likable","users","label"],methods:{random:function(){return o.a.random(1e4,2e4)}},data:function(){return{search:""}},computed:{filteredUsers:function(){var e=this;return this.users.filter((function(t){return t.username.toLowerCase().includes(e.search.toLowerCase())}))},_:function(){return o.a}}},c=(r(229),r(33)),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form-group",{attrs:{label:"search"}},[r("b-input",{attrs:{placeholder:"e.g. John"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),r("div",{staticClass:"grid"},e._l(e.filteredUsers,(function(t){return r("div",{key:t.id},[r("b-card",{attrs:{header:e.label,"img-src":t.avatar,"img-top":"",title:t.username.split(" ")[0],footer:e._.get(t,"__meta__.inverse_likes_count")+" points"}},[r("p",[r("b-badge",[e._v(e._s(t.teaching?"teacher":"student"))])],1),e._v(" "),r("i",[e._v("Hey, I'm "+e._s(t.username))]),e._v(" "),r("p",[e._v(e._s(t.bio||"No description..."))]),e._v(" "),e.likable?r("b-button",{attrs:{variant:"success"},on:{click:function(r){return e.$emit("emitLike",t.id)}}},[e._v("like")]):e._e(),e._v(" "),e.likable?r("b-button",{attrs:{variant:"danger"},on:{click:function(r){return e.$emit("emitDislike",t.id)}}},[e._v("dislike")]):e._e(),e._v(" "),r("nuxt-link",{staticClass:"ml-3",attrs:{to:"/profile/"+t.id}},[e._v("My Profile")])],1)],1)})),0)],1)}),[],!1,null,"7ff7796b",null);t.a=component.exports},243:function(e,t,r){"use strict";r.r(t);r(41);var n=r(10),o={components:{Profiles:r(231).a},middleware:["auth"],methods:{showDislikeModal:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.dislikedId=e,t.$bvModal.show("dislike-modal");case 2:case"end":return r.stop()}}),r)})))()},dislike:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.dislikedId,e.dislikeReason),t.next=3,e.$axios.post("/dislike",{id:e.dislikedId,body:e.dislikeReason});case 3:t.sent,e.users=e.users.filter((function(t){return t.id!==e.dislikedId})),e.dislikeReason="";case 6:case"end":return t.stop()}}),t)})))()},like:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,t.$axios.post("/like",{id:e});case 3:n=r.sent,console.log(n.data),n.data?t.$toast.success("you matched!",{action:{text:"go to profile",href:"/profile/".concat(e)}}):t.$toast.error("you didnt match"),t.users=t.users.filter((function(t){return t.id!==e}));case 7:case"end":return r.stop()}}),r)})))()}},computed:{filteredUsers:function(){return this.teachersOnly?this.users.filter((function(e){return e.teaching})):this.users}},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$axios,t.next=3,r.$get("recs");case 3:return n=t.sent,console.log(n),t.abrupt("return",{users:n});case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{teachersOnly:!1,dislikedId:"",dislikeReason:null}}},l=r(33),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-jumbotron",{attrs:{fluid:"",header:"Welcome to Inder, "+e.$store.state.auth.user.username+"!",lead:"Try it out now!"}},[e.$store.state.auth.loggedIn?[e._v("We hope you enjoy it!")]:[r("b-button",{attrs:{to:"/register"}},[e._v("Sign up")])],e._v(" "),r("b-checkbox",{model:{value:e.teachersOnly,callback:function(t){e.teachersOnly=t},expression:"teachersOnly"}},[e._v("teachers only")])],2),e._v(" "),r("b-container",[r("h1",[e._v("users")]),e._v(" "),r("h2",[e._v("You have "+e._s(e.filteredUsers.length)+" users online!")]),e._v(" "),r("Profiles",{attrs:{users:e.filteredUsers,likable:"true"},on:{emitLike:function(t){return e.like(t)},emitDislike:function(t){return e.showDislikeModal(t)}}})],1),e._v(" "),r("b-modal",{attrs:{title:"You disliked someone",id:"dislike-modal"},on:{ok:e.dislike}},[r("b-form-group",{attrs:{label:"Why don't you like that person?",description:"Help them get better."}},[r("b-input",{attrs:{placeholder:"they were stupid, too ugly, fat etc."},model:{value:e.dislikeReason,callback:function(t){e.dislikeReason=t},expression:"dislikeReason"}})],1)],1)],1)}),[],!1,null,"e3a51ca0",null);t.default=component.exports}}]);